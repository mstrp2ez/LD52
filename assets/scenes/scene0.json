{
	"properties":{
		"tileSize":64,
		"globalForce":{
			"x":0,
			"y":0
		},
		"cameraTarget":"player",
		"canvasbg":"#222"
	},
	"gui":"assets/gui/gui0.json",
	"items":[
		{
			"type":"ProximityTextbox",
			"bgcolor":"#222034",
			"text":"Welcome my master, i am\nthe soul forger.\nHow may i serve you?\n\n[E] Craft",
			"textpadding":{
				"x":10,
				"y":20
			},
			"interactrange":150,
			"activator":"player",
			"x":580,
			"y":100,
			"w":180,
			"h":100
		},
		{
			"type":"Menu",
			"id":"CraftMenu",
			"visible":false,
			"bgcolor":"#222034",
			"x":650,
			"y":150,
			"w":220,
			"h":75,
			"itempadding":{
				"x":10,
				"y":20
			},
			"menuitems":[{
					"text":"Soul scythe",
					"src":"assets/sprites/soulscythe.png",
					"cost":100,
					"damage":20,
					"rangemod":1.4,
					"maxtargets":5,
					"attackspeed":1
				},
				{
					"text":"Obsidian sword",
					"src":"assets/sprites/obsidiansword.png",
					"cost":2000,
					"damage":200,
					"rangemod":1.4,
					"maxtargets":2,
					"attackspeed":1.3
				},
				{
					"text":"Pure light",
					"src":"assets/sprites/soulscythe.png",
					"cost":10000,
					"damage":2000,
					"rangemod":2,
					"maxtargets":1,
					"attackspeed":1.7
				}
			]
		},
		{
			"_comment":"BoundingBox wall ghosts west",
			"type":"BBRectangle",
			"x":20,
			"y":-500,
			"w":32,
			"h":620,
			"nodraw":false,
			"static":true
		},
		{
			"_comment":"BoundingBox wall ghosts north",
			"type":"BBRectangle",
			"x":20,
			"y":-500,
			"w":820,
			"h":32,
			"nodraw":false,
			"static":true
		},
		{
			"_comment":"BoundingBox wall ghosts east",
			"type":"BBRectangle",
			"x":840,
			"y":-500,
			"w":32,
			"h":620,
			"nodraw":false,
			"static":true
		},
		{
			"type":"GameAudio",
			"id":"ambientsound",
			"src":"assets/audio/ambient.mp3",
			"autoplay":true,
			"loop":true
		},
		{
			"type":"SpriteAnimation",
			"animsrc":"assets/animations/soulicon.json",
			"x":470,
			"y":75,
			"layer":10
		},
		{
			"type":"SoulCounter",
			"id":"SoulCounter",
			"x":490,
			"y":90,
			"text":""
		},
		{
			"_comment":"North wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewall.png",
			"x":250,
			"y":120,
			"layer":0,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"North wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewall.png",
			"x":50,
			"y":120,
			"layer":1,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"South wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewall.png",
			"x":250,
			"y":520,
			"layer":0,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"Southeast wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewall.png",
			"x":472,
			"y":520,
			"layer":1,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"Southwest wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewall.png",
			"x":122,
			"y":520,
			"layer":1,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"Southwest boulder",
			"type":"Sprite",
			"src":"assets/sprites/bouldersmall.png",
			"x":20,
			"y":500,
			"layer":1,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"West bottom wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewallverticalend.png",
			"x":20,
			"y":372,
			"layer":1,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"_comment":"West top wall",
			"type":"Sprite",
			"src":"assets/sprites/stonewallverticalend.png",
			"x":20,
			"y":120,
			"layer":1,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/boulder2.png",
			"x":570,
			"y":560,
			"layer":3
		},
		{
			"_comment":"Northwest corner stone",
			"type":"Sprite",
			"src":"assets/sprites/stonepillar.png",
			"layer":2,
			"x":50,
			"y":110
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/stonewallvertical.png",
			"x":600,
			"y":228
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/stonewallverticalend.png",
			"x":600,
			"y":280
		},
		{
			"type":"BBRectangle",
			"x":600,
			"y":228,
			"w":32,
			"h":140,
			"static":true
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/stonewallverticalend.png",
			"x":600,
			"y":460,
			"w":32,
			"h":128,
			"children":[
				{
					"type":"BBRectangle",
					"x":0,
					"y":0,
					"w":32,
					"h":140,
					"static":true
				}
			]
		},
		{
			"type":"SpriteAnimation",
			"animsrc":"assets/animations/store.json",
			"x":400,
			"y":100,
			"layer":3
		},
		{
			"type":"BBRectangle",
			"x":400,
			"y":100,
			"w":256,
			"h":96,
			"static":true
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/boulder3.png",
			"x":350,
			"y":80,
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"static":true
			}]
		},
		{
			"id":"player",
			"type":"Reaper",
			"x":400,
			"y":300,
			"w":32,
			"h":64,
			"layer":3,
			"range":100,
			"weapon":{
				"name":"Soul dagger",
				"damage":3,
				"rangemod":1.2,
				"maxtargets":1,
				"src":"assets/sprites/souldagger.png",
				"attackspeed":1
			},
			"children":[{
				"type":"BBRectangle",
				"x":0,
				"y":0,
				"w":32,
				"h":64
			},
			{
				"id":"playeranim",
				"type":"SpriteAnimation",
				"animsrc":"assets/animations/reaper.json",
				"x":0,
				"y":0
			}]
		},
		{
			"type":"ElasticFollow",
			"target":"player",
			"layer":10,
			"speed":1.5,
			"children":[
				{
					"type":"SpriteAnimation",
					"id":"SkullServant",
					"animsrc":"assets/animations/skullservant.json",
					"x":40,
					"y":0,
					"children":[
					{
						"type":"DialogSequence",
						"active":true,
						"children":[
							{
								"type":"DialogWidget",
								"bgcolor":"#222034",
								"layer":10,
								"nobg":true,
								"w":160,
								"x":20,
								"y":-10,
								"scrollspeed":50,
								"text":"Welcome to hell master.\nYou have had quite a long slumber.\nYour kingdom has grown somewhat.. populated in your absence."
							},
							{
								"type":"DialogWidget",
								"bgcolor":"#222034",
								"layer":10,
								"nobg":true,
								"w":160,
								"x":20,
								"y":-10,
								"scrollspeed":50,
								"text":"May i suggest that you start culling your.. herd. Perhaps we should start with the northend sector, the one for weaklings and cowards, it has been a long sleep after all."
							},
							{
								"type":"DialogWidget",
								"bgcolor":"#222034",
								"layer":10,
								"nobg":true,
								"w":160,
								"x":20,
								"y":-10,
								"scrollspeed":50,
								"text":"As you already know, and i only mention it since i know what an eon or two can do to ones short term memory, you can spend the souls that you harvest at the soul forge to upgrade your arsenal."
							},
							{
								"type":"DialogWidget",
								"bgcolor":"#222034",
								"layer":10,
								"nobg":true,
								"w":160,
								"x":20,
								"y":-10,
								"scrollspeed":50,
								"text":"And of course, don't forget to upgrade your perks as strength returns to your, dare i say, divine form. he he....."
							}
						]
					},
					{
						"type":"DialogSequence",
						"active":false,
						"id":"CombatDialogSequence",
						"children":[
							{
								"type":"DialogWidget",
								"bgcolor":"#222034",
								"layer":10,
								"nobg":true,
								"w":160,
								"x":20,
								"y":-10,
								"scrollspeed":100,
								"text":"Ah, the horrific sound of the recently damned. Try harvesting a soul by walking up close to it and press [Space] to refill some of that energy."
							}
						]
					}						
					]
				}
			]
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/lvl1sign.png",
			"x":130,
			"y":70,
			"layer":0
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/lvl10sign.png",
			"x":10,
			"y":200,
			"layer":5
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/lvlbosssign.png",
			"x":360,
			"y":520,
			"layer":5
		},
		{
			"type":"SoulGenerator",
			"src":"assets/data/lostsoul.json",
			"maxspawn":10,
			"levelrange":{
				"min":0,
				"max":1
			},
			"spawnmin":{
				"x":20,
				"y":-400
			},
			"spawnmax":{
				"x":800,
				"y":0
			}
		},
		{
			"type":"SoulGenerator",
			"src":"assets/data/lostsoul.json",
			"maxspawn":5,
			"levelrange":{
				"min":4,
				"max":4
			},
			"spawnmin":{
				"x":-600,
				"y":20
			},
			"spawnmax":{
				"x":-60,
				"y":600
			}
		},
		{
			"type":"SoulGenerator",
			"src":"assets/data/lostsoul.json",
			"maxspawn":5,
			"levelrange":{
				"min":5,
				"max":5
			},
			"spawnmin":{
				"x":880,
				"y":20
			},
			"spawnmax":{
				"x":1800,
				"y":600
			}
		},
		{
			"type":"SoulGenerator",
			"src":"assets/data/lostsoul.json",
			"maxspawn":1,
			"levelrange":{
				"min":6,
				"max":6
			},
			"spawnmin":{
				"x":20,
				"y":770
			},
			"spawnmax":{
				"x":800,
				"y":900
			}
		},
		{
			"type":"ElasticFollow",
			"target":"player",
			"x":0,
			"y":0,
			"w":220,
			"h":75,
			"layer":10,
			"children":[{
				"type":"Menu",
				"id":"PerkMenu",
				"visible":false,
				"bgcolor":"#222034",
				"x":64,
				"y":0,
				"w":220,
				"h":75,
				"itempadding":{
					"x":10,
					"y":20
				},
				"menuitems":[{
					"text":"Death aura",
					"cost":1,
					"id":"DeathAura"
				},
				{
					"text":"Soul spear",
					"cost":1,
					"id":"BoneSpear"
				},
				{
					"text":"Soul leech",
					"cost":1,
					"id":"SoulLeech"
				}]
			}]
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/stoneattacktiplarge.png",
			"x":45,
			"y":175,
			"layer":3
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/stoneattacktiptall.png",
			"x":95,
			"y":135,
			"layer":2
		},
		{
			"type":"Sprite",
			"src":"assets/sprites/stoneattacktipright.png",
			"x":90,
			"y":155,
			"layer":1
		}
	]
}